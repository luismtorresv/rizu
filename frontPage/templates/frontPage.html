{% extends "base.html" %}
{% load static %}

{% block title %}RIZU - Private Cloud Management Platform{% endblock %}
{% block body_class %}page-dashboard{% endblock %}

{% block content %}
<div class="dashboard-main-container">
  <div class="sidebar">
    <h3 class="sidebar-title">
      <img src="{% static 'images/rizusinfondo.png' %}" alt="Rizu Logo" class="sidebar-logo">
      <span class="sidebar-brand-text">Rizu</span>
    </h3>
    <hr class="sidebar-divider">
    
    {% if user.is_authenticated %}
      <div class="sidebar-details">
        <h4 class="sidebar-details-title">User Details</h4>
        <p class="sidebar-detail-item"><strong>Username:</strong> {{ user.username }}</p>
        {% if user_role == "project_manager" %}
          <p class="sidebar-detail-item"><strong>Access:</strong> Project Manager</p>
        {% elif user_role == "user" %}
          <p class="sidebar-detail-item"><strong>Access:</strong> Standard User</p>
        {% endif %}
      </div>
      <div class="sidebar-footer">
        <form method="POST" action="{% url 'logout' %}">
          {% csrf_token %}
          <button type="submit" class="btn-signout">Sign out</button>
        </form>
      </div>
    {% else %}
      <div class="sidebar-details">
        <h4 class="sidebar-details-title">Welcome to Rizu</h4>
        <p class="sidebar-detail-item">Please sign in to access your cloud resources</p>
      </div>
      <div class="sidebar-footer">
        <a href="{% url 'login' %}" class="btn-signout" style="text-decoration: none; display: block; text-align: center;">Sign In</a>
      </div>
    {% endif %}
  </div>

  <div class="dashboard-content">
    <div class="dashboard-header">
      <h1>Welcome to Rizu</h1>
    </div>

    <div class="project-card">
      <div class="project-card-header">
        <h4 class="project-card-title">
          <i class="fa-solid fa-cloud project-icon"></i>
          Cloud Management Platform
          <small class="project-description">
            An alternative dashboard to OpenStack's Horizon targeted at developers with little to no cloud computing experience
          </small>
        </h4>
      </div>

      <div class="project-card-body">
        <div class="welcome-content">
          <h5 class="resource-section-title">
            <i class="fa-solid fa-info-circle resource-icon resource-icon-instances"></i>About Rizu
          </h5>
          <p class="welcome-description">
            Rizu simplifies cloud infrastructure management, making it easy for developers to set up and manage private clouds on-premise. 
            Our intuitive interface removes the complexity typically associated with cloud computing platforms.
          </p>

          {% if not user.is_authenticated %}
            <h5 class="resource-section-title">
              <i class="fa-solid fa-user-plus resource-icon resource-icon-networks"></i>Get Started
            </h5>
            <p class="welcome-description">
              Create an account or sign in to start managing your cloud resources.
            </p>
          {% else %}
            <h5 class="resource-section-title">
              <i class="fa-solid fa-rocket resource-icon resource-icon-networks"></i>Ready to Go!
            </h5>
            <p class="welcome-description">
              You're all set! Navigate to your dashboard to start creating and managing your cloud resources.
            </p>
          {% endif %}
        </div>
      </div>
    </div>

    {% if user.is_authenticated %}
      <div class="dashboard-actions">
        <a href="{% url 'dashboard' %}" class="btn-dashboard-action btn-create-project">
          <i class="fa-solid fa-tachometer-alt action-icon"></i>Go to Dashboard
        </a>
        <a href="{% url 'join_projects' %}" class="btn-dashboard-action btn-create-project">
          <i class="fa-solid fa-tachometer-alt action-icon"></i>Join Project
        </a>
        {% if user_role == "project_manager" %}
          <a href="{% url 'create_project' %}" class="btn-dashboard-action btn-create-project">
            <i class="fa-solid fa-tachometer-alt action-icon"></i>Create Project
          </a>
        {% endif %}
      </div>
    {% else %}
      <div class="dashboard-actions">
        <a href="{% url 'register' %}" class="btn-dashboard-action btn-create-project">
          <i class="fa-solid fa-user-plus action-icon"></i>Create Account
        </a>
        <a href="{% url 'login' %}" class="btn-dashboard-action btn-create-network">
          <i class="fa-solid fa-sign-in-alt action-icon"></i>Sign In
        </a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}